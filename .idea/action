from work import Work
from rest import Rest

class Action:
    def __init__(self, name, health=0, state=0, money=0.0):
        self.name = name
        self.health = health
        self.state = state
        self.money = money

    def do(self, action):
        if type(action) == Work:
            if self.state > 90:
                self.change_state(health=action.health, state=action.state, money=action.money * 1.1)
            else:
                self.change_state(health=action.health, state=action.state, money=action.money)
        elif type(action) == Rest:
            if self.health < 40:
                self.change_state(health=action.health, state=action.state * 0.8, money=action.money)
            else:
                self.change_state(health=action.health, state=action.state, money=action.money)
        else:
            self.change_state(health=action.health, state=action.state, money=action.money)
